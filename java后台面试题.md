# 面试题

### 1. String类为什么是final的 

原因：由于效率和安全性的原因，字符串被设计为不可变，效率： **实现字符串池** ， **实现String可以创建HashCode不可变性** ；安全性： **线程安全** 

字符串常量池 ： 创建字符串时，如果该字符串已经存在于池中，则将返回现有字符串的引用，而不是创建新对象。字符串池的实现可以在运行时节约很多heap空间，因为不同的字符串变量都指向池中的同一个字符串。 如果字符串是可变的，用一个引用更改字符串将导致其他引用的值错误。这是很危险的。 

 缓存Hashcode：字符串的Hashcode在java中经常配合基于散列的集合一起正常运行，这样的散列集合包括HashSet、HashMap以及HashTable。不可变的特性保证了hashcode永远是相同的。不用每次使用hashcode就需要计算hashcode。这样更有效率。因为当向集合中插入对象时，是通过hashcode判别在集合中是否已经存在该对象了（不是通过equals方法逐个比较，效率低）。  

 安全性： 如果字符串是可变的，那么会引起很严重的安全问题。譬如，数据库的用户名、密码都是以字符串的形式传入来获得数据库的连接，或者在socket编程中，主机名和端口都是以字符串的形式传入。因为字符串是不可变的，所以它的值是不可改变的，否则黑客们可以钻到空子，改变字符串指向的对象的值，造成安全漏洞。因为字符串是不可变的，所以**是多线程安全的**，同一个字符串实例可以被多个线程共享。这样便不用因为线程安全问题而使用同步。字符串自己便是线程安全的。 

### 2.  HashMap的源码，实现原理，底层结构 

https://www.cnblogs.com/ITtangtang/p/3948406.html#a1

### 3.  反射中，Class.forName和classloader的区别 

 Class.forName得到的class是已经初始化完成的
Classloder.loaderClass得到的class是还没有链接的 

https://blog.csdn.net/riemann_/article/details/86769805

### ~~4.  session和cookie的区别和联系，session的生命周期，多个服务部署时session管理~~ 

### 5. Java中的队列都有哪些，有什么区别 

未实现阻塞接口的队列：

 **LinkedList** : 实现了Deque接口，受限的队列 

 **PriorityQueue** ： 优先队列，本质维护一个有序列表。可自然排序亦可传递 comparator构造函数实现自定义排序。 

 **ConcurrentLinkedQueue**：基于链表 线程安全的队列。增加删除O(1) 查找O(n) 

 实现阻塞接口的 队列： 其特点：线程阻塞时，不是直接添加或者删除元素，而是等到有空间或者元素时，才进行操作。 

**ArrayBlockingQueue**： 基于数组的有界队列
**LinkedBlockingQueue**： 基于链表的无界队列
**ProiporityBlockingQueue**：基于优先次序的无界队列
**DelayQueue**：基于时间优先级的队列
**SynchronousQueue**：内部没有容器的队列 较特别 --其独有的线程一一配对通信机制 

### 6. Java的内存模型以及GC算法 

内存模型：

 **Java内存模型（Java Memory Model ,JMM）就是一种符合内存模型规范的，屏蔽了各种硬件和操作系统的访问差异的，保证了Java程序在各种平台下对内存的访问都能保证效果一致的机制及规范。**  **目的是解决由于多线程通过共享内存进行通信时，存在的本地内存数据不一致、编译器会对代码指令重排序、处理器会对代码乱序执行等带来的问题。目的是保证并发编程场景中的原子性、可见性和有序性。** 

https://www.cnblogs.com/lfs2640666960/p/11019798.html



### 7.  Java数组和链表两种结构的操作效率，在哪些情况下(从开头开始，从结尾开始，从中间开始)，哪些操作(插入，查找，删除)的效率高 

### 8.  Java内存泄露的问题调查定位：jmap，jstack的使用等等 

jconsole/jvisualvm

jstack 查看线程

jmap 查看内存

jstat 性能分析

### 9.  spring框架中需要引用哪些jar包，以及这些jar包的用途 

### 10.  springMVC的原理

### 11.  springMVC注解的意思 

### 12.  spring中beanFactory和ApplicationContext的联系和区别 

### 13.  spring注入的几种方式  spring注入的几种方式 

### 14.  spring如何实现事物管理的 

### 15.  springIOC和AOP的原理 

### 16.  hibernate中的1级和2级缓存的使用方式以及区别原理 

一级缓存是session级别的缓存，一个session做了一个查询操作，它会把查询的结果放在一级缓存中，如果短时间内，这个session又做了同一个操作，hibernate直接从一级缓存中拿，而不会再去连数据库取数据；

二级缓存是SessionFactory级别的缓存，查询的时候会把查询结果缓存到二级缓存中，如果同一个sessionFactory创建的某个session执行了相同的操作，hibernate就会从二级缓存中拿结果，而不会再连数据库，去数据。

二级缓存数据进程范围或集群范围的缓存，这一级别的缓存可以进行配置和更改，并且可以动态加载和卸载。

hibernate二级缓存策略是根据ID查询的缓存策略，对于条件查询则毫无作用，为此，hibernate提供了针对条件查询的Query cache。



### 17.  spring中循环注入的方式 

### 18.  Java创建线程之后，直接调用start()方法和run()的区别 

run方法是线程的任务处理逻辑的入口方法，由java虚拟机在运行相应线程时直接调用，在代码中直接调用时等同于普通方法调用

start方式的作用是启动相应的线程。

### 19.  常用的线程池模式以及不同线程池的使用场景 

### 20.  newFixedThreadPool此种线程池如果线程数达到最大值后会怎么办，底层原理 

### 21.  多线程之间通信的同步问题，synchronized锁的是对象，衍伸出和synchronized相关很多的具体问题，例如同一个类不同方法都有synchronized锁，一个对象是否可以同时访问。或者一个类的static构造方法加上synchronized之后的锁的影响。 

### 22.  了解可重入锁的含义，以及ReentrantLock 和synchronized的区别 

### 23.  同步的数据结构，例如concurrentHashMap的源码理解以及内部实现原理，为什么他是同步的且效率高 

### 24.  atomicinteger和volatile等线程安全操作的关键字的理解和使用 

### 25.  线程间通信，wait和notify 

### 26.  定时线程的使用 

### 27.  场景：在一个主线程中，要求有大量(很多很多)子线程执行完之后，主线程才执行完成。多种方式，考虑效率。 

### 28.  http是无状态通信，http的请求方式有哪些，可以自己定义新的请求方式么 

### 29.  socket通信，以及长连接，分包，连接异常断开的处理。 

### 30.  socket通信模型的使用，AIO和NIO 

### 31.  socket框架netty的使用，以及NIO的实现原理，为什么是异步非阻塞。 

### 32.  同步和异步，阻塞和非阻塞。 

### 33.  大的log文件中，统计异常出现的次数、排序，或者指定输出多少行多少列的内容。(主要考察awk) 

### 34.  linux下的调查问题思路：内存、CPU、句柄数、过滤、查找、模拟POST和GET请求等等场景 

### 35.  MySql的存储引擎的不同 

### 36.  单个索引、联合索引、主键索引 

### 37.  Mysql怎么分表，以及分表后如果想按条件分页查询怎么办(如果不是按分表字段来查询的话，几乎效率低下，无解) 

### 38.  分表之后想让一个id多个表是自增的，效率实现 

### 39.  MySql的主从实时备份同步的配置，以及原理(从库读主库的binlog)，读写分离 

### 40.  索引的数据结构，B+树 

### 41.  事务的四个特性，以及各自的特点（原子、隔离）等等，项目怎么解决这些问题 

### 42.  单例模式：饱汉、饿汉。以及饿汉中的延迟加载 

### 43.  工厂模式、装饰者模式、观察者模式。 

### 44.  为什么用缓存，用过哪些缓存，redis和memcache的区别 

### 45.  redis的数据结构 

### 46. redis的持久化方式，以及项目中用的哪种，为什么 

### 47.  redis集群的理解，怎么动态增加或者删除一个节点，而保证数据不丢失。（一致性哈希问题） 

### 48.  netty的原理 





# 参考

https://zhuanlan.zhihu.com/p/30383938



